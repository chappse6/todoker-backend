# ==============================================
# Spring Boot Application Configuration
# ==============================================

# Application Settings
spring.application.name=todoker-backend

# Profile Configuration
spring.profiles.active=dev

# ==============================================
# JPA & Hibernate Configuration
# ==============================================
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.open-in-view=false

# ==============================================
# Database Migration (Flyway)
# ==============================================
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.locations=classpath:db/migration

# ==============================================
# JSON Configuration (Jackson)
# ==============================================
# spring.jackson.property-naming-strategy=SNAKE_CASE  # camelCase 사용을 위해 주석 처리
spring.jackson.default-property-inclusion=NON_NULL

# ==============================================
# Monitoring & Actuator
# ==============================================
management.endpoints.web.exposure.include=health,info,metrics,prometheus,ssl
management.endpoint.health.show-details=when-authorized
management.prometheus.metrics.export.enabled=true

# ==============================================
# Logging Configuration
# ==============================================
logging.level.com.todoker=INFO
logging.level.org.springframework.web=INFO
logging.level.org.springframework.security=WARN
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type=WARN
logging.level.org.flywaydb=INFO
logging.level.org.testcontainers=WARN

# Clean console logging pattern
logging.pattern.console=%clr(%d{HH:mm:ss.SSS}){faint} %clr(%5p) %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n

# Logging output settings
logging.charset.console=UTF-8

# ==============================================
# Swagger/OpenAPI Configuration
# ==============================================
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.enabled=true
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.tags-sorter=alpha
springdoc.swagger-ui.operations-sorter=alpha
springdoc.swagger-ui.display-request-duration=true
springdoc.swagger-ui.doc-expansion=none
springdoc.swagger-ui.deep-linking=true
springdoc.swagger-ui.display-operation-id=false
springdoc.swagger-ui.default-models-expand-depth=1
springdoc.swagger-ui.default-model-expand-depth=1
springdoc.swagger-ui.disable-swagger-default-url=true
springdoc.swagger-ui.persist-authorization=true